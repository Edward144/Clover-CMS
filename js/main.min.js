function sticky(t){var a=t.outerHeight(),e=t.offset().top;$(window).scrollTop()>a+e?t.addClass("sticky"):0==$(window).scrollTop()&&t.removeClass("sticky"),"pageHeader"==t.attr("id")&&t.siblings(".main")&&t.hasClass("sticky")?t.siblings(".main").first().css({"margin-top":a}):t.siblings(".main").first().css({"margin-top":""})}function comments_load(t,a){if(0==a)var e=$(".comments > .comment").last(),i=$(".comments > .comment").length;else e=$("#comment"+a+" > .comment").last(),i=$("#comment"+a+" > .comment").length;$.ajax({url:"includes/classes/comments.class.php",method:"post",dataType:"html",data:{loadcomments:!0,contentid:t,parent:a,offset:i},success:function(t){$(t).insertAfter(e)},error:function(t,a,e){console.log(e)}})}$(".navbar .dropdown-toggle").click(function(){$(this).parent(".nav-item").toggleClass("exp")}),$(window).scroll(function(){sticky($("#pageHeader"))}),$(document).ready(function(){sticky($("#pageHeader"))}),$("form").submit(function(){var t=!0;if($(this).find(".invalid-feedback").remove(),$(this).find(".is-invalid").removeClass("is-invalid"),$(this).find("input[name='password']").length&&$(this).find("input[name='passwordConf']").length){var a=$(this).find("input[name='password']"),e=$(this).find("input[name='passwordConf']");(a.val().length||e.val().length)&&(a.val().length<8?(a.addClass("is-invalid"),$("<div class='invalid-feedback'>Password must be at least 8 characters</div>").insertAfter(a),t=!1):/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/.test(a.val())?a.val()!=e.val()&&(a.addClass("is-invalid"),e.addClass("is-invalid"),$("<div class='invalid-feedback'>Passwords do not match</div>").insertAfter(e),t=!1):(a.addClass("is-invalid"),$("<div class='invalid-feedback'>Password must contain at least one lowercase, one uppercase and one digit</div>").insertAfter(a),t=!1))}if($(this).find("input[name='url']").length){var i=$(this).find("input[name='url']");/^[a-zA-Z0-9\:\/\-\_\+\?\&\=\#\.]+$/.test(i.val())||(i.addClass("is-invalid"),$("<div class='invalid-feedback'>Url contains invalid characters. Allowed characters are A-Z, 0-9, :, /, -, _, +, ?, &, =, #, .</div>").insertAfter(i),t=!1)}0!=t||event.preventDefault()});var recaptchaWidgets=[];function comments_loadcaptcha(t){var a=t.attr("id");t.html().length||(recaptchaWidgets[a.split("recaptcha")[1]]=grecaptcha.render(a,{sitekey:recaptchaSitekey}))}var recaptchaOnload=function(){var t=$("#recaptcha0"),a=t.attr("id");t.html().length||(recaptchaWidgets[a.split("recaptcha")[1]]=grecaptcha.render(a,{sitekey:recaptchaSitekey}))};function comments_verifycaptcha(t){var a=t.find(".recaptcha"),e=[];a.length>0&&(event.preventDefault(),t.find(".alert").remove(),$.each(a,function(){var t=grecaptcha.getResponse(recaptchaWidgets[$(this).attr("id").split("recaptcha")[1]]);e.push(t)}),$.ajax({url:root_dir+"includes/actions/verifycaptcha.php",method:"post",dataType:"json",data:{responses:JSON.stringify(e),recaptchaverify:!0},success:function(e){if(0==e.valid)return $.each(a,function(){grecaptcha.reset(recaptchaWidgets[$(this).attr("id").split("recaptcha")[1]])}),$("<div class='mt-3 mb-0 py-2 alert alert-"+e.status+"'>"+e.message+"</div>").insertAfter($("form").find(":submit").parents(".form-group").first()),event.preventDefault(),!1;t.unbind("submit").submit()}}))}$(".postComment").submit(function(){comments_verifycaptcha($(this))}),$(".comments").on("click","a.commentReply",function(){if("true"==$(this).attr("aria-expanded")){var t=$(this).parents("h6").first().siblings(".commentForm").find(".recaptcha");$.each(t,function(){comments_loadcaptcha($(this))})}});